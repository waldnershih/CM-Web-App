<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"> 

	<h:head>
			<h:outputStylesheet library= "css" name = "bootstrap.min.css"></h:outputStylesheet>
			<h:outputStylesheet name="css/style.css" />
			<title>#{titleController.pageTitle}</title>
	</h:head> 
	<body class="Bimage"> 
		<div class="container">
            <div class="navbar navbar-inverse">
                <div class="navbar-brand">
                    #{titleController.pageTitle} - Edit Customer
                </div>
            </div>
            
            <h:form id="MyForm">
            	<table class="table table-bordered ">
	            	<tr>
						<td width="150" valign="top">Id:</td>
						<td valign="bottom">
							<h:outputLabel id = "Id" >#{customerController.customer.customerId}</h:outputLabel> 
						</td>
					</tr>
					<tr>
						<td width="100" valign="top">Name:</td>
						<td valign="bottom">
							<h:inputText id = "Name" value="#{customerController.customer.customerName}"
										 binding="#{customerName}" required="true"
										 validatorMessage="Please enter a valid customer name"
										 requiredMessage="Please enter a customer name">
							</h:inputText>
						</td>
					</tr>
					<tr>
						<td width="100" valign="top">Phone Number:</td>
						<td valign="bottom">
							<h:inputText id = "PhoneNumber" value="#{customerController.customer.customerPhoneNumber}"
										 binding="#{customerPhoneNumber}" required="true"
										 validatorMessage="Please enter a valid phone number. Digits only"
										 requiredMessage="Please enter a phone number">
							</h:inputText>
						</td>
					</tr>
					<tr>
						<td width="100" valign="top">Email:</td>
						<td valign="bottom">
							<h:inputText id = "Email" value="#{customerController.customer.customerEmail}"
										 binding="#{customerEmail}" required="true"
										 requiredMessage="Please enter an email"
										 validatorMessage="Invalid email format.   ***@***.*** "> 		                       								 
							
							<f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
							</h:inputText>
						</td>
					</tr>
					<tr>
						<td width="100" valign="top">Nationality:</td>
						<td valign="bottom">
							<h:inputText id = "Nationality" value="#{customerController.customer.customerNationality}"
										 binding="#{customerNationality}" required="true"
										 validatorMessage="Please enter a valid nationality."
										 requiredMessage="Please enter a nationality">
							</h:inputText>
						</td>
					</tr>
					<tr>
						<td width="100" valign="top">Business Partner:</td>
						<td valign="bottom">
							<h:selectOneMenu id="BusinessPartner" value="#{customerController.customer.customerBusinessPartner}">
    							<f:selectItem itemValue="#{null}" noSelectionOption="true"/>
    							<f:selectItems value="#{customerApplication.BUSINESS_PARTNERS}" />
							</h:selectOneMenu>
						</td>
					</tr>
					<tr>
						<td width="100" valign="top">IndustryType:</td>
						<td valign="bottom">
							<h:selectOneMenu id="IndustryType" value="#{industryType.industryTypeString}">
    							<f:selectItem itemValue="#{null}" noSelectionOption="true" />
    							<f:selectItems value="#{industryTypeApplication.industryTypes}"/>
							</h:selectOneMenu>
						</td>
					</tr>
					<tr>
						<td width="100" valign="top">Staff:</td>
						<td valign="bottom">
							<h:outputLabel id = "User" >#{customerController.customer.user.userName}</h:outputLabel> 
						</td>
					</tr>
					<tr>
                        <td width ="100" valign="top">Street number: </td>
                         
                        <td valign="bottom">
                            <h:inputText id = "StreetNumber" value="#{customerController.customer.address.streetNumber}" 
                            			 binding="#{streetNumber}" required="true"
                                         validatorMessage="Please enter a valid street number."
                                         requiredMessage="Please enter a street number. ">
                            </h:inputText>    
                        </td>
                    </tr>
					<tr>
                        <td width ="100" valign="top">Street address: </td>
                         
                        <td valign="bottom">
                            <h:inputText id = "StreetAddress" value="#{customerController.customer.address.streetAddress}" 
                            			 binding="#{streetAddress}" required="true"
                                         validatorMessage="Please enter a valid street address."
                                         requiredMessage="Please enter a street address. ">
                            </h:inputText>    
                        </td>
                    </tr>
                    <tr>
                        <td width ="100" valign="top">Suburb: </td>
                         
                        <td valign="bottom">
                            <h:inputText id = "Suburb" value="#{customerController.customer.address.suburb}" 
                            			 binding="#{suburb}" required="true"
                                         validatorMessage="Please enter a valid suburb."
                                         requiredMessage="Please enter a suburb. ">
                            </h:inputText>    
                        </td>
                    </tr>
                    <tr>
                        <td width ="100" valign="top">State: </td>
                         
                        <td valign="bottom">
                            <h:inputText id = "State" value="#{customerController.customer.address.state}" 
                            			 binding="#{state}" required="true"
                                         validatorMessage="Please enter a valid state."
                                         requiredMessage="Please enter a state. ">
                            </h:inputText>    
                        </td>
                    </tr>
                    <tr>
                        <td width ="100" valign="top">Postcode: </td>
                         
                        <td valign="bottom">
                            <h:inputText id = "Postcode" value="#{customerController.customer.address.postcode}" 
                            			 binding="#{postcode}" required="true"
                                         validatorMessage="Please enter a valid postcode."
                                         requiredMessage="Please enter a postcode. ">
                            </h:inputText>    
                        </td>
                    </tr>
            	</table>
            	<h:commandButton id="save" value="Save" 
            	action="#{customerManagedBean.editCustomer(customerController.customer, industryType.industryTypeString,'')}"  
            	class="btn btn-info btn-sm" >
                    <f:param name="customerID" value="#{customerController.customerId+1}"/>
                </h:commandButton>
                <h:link id="close" value="Close" outcome="/staff/customerIndex.xhtml" class="btn btn-info btn-sm" />
            </h:form>
        </div>
	</body> 
</html>
